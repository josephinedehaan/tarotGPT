<!DOCTYPE html>
<html>
<head>
  <title>Tarot</title>
</head>
<body>
  <script>
    function fetchAnimalInfo() {
      const selectedCards = [];
      const checkboxes = document.querySelectorAll('input[type="checkbox"]:checked');
      
      if (checkboxes.length != 3) {
        alert('Please select exactly 3 cards.');
        return;
      }
      
      checkboxes.forEach(checkbox => {
        selectedCards.push(checkbox.value);
      });

      const requestBody = {
        prompt: `You are a fortune teller that responds with a Tarot reading interpretation of three cards provided by the user.
        Card 1 represents the past, Card 2 represents the present, Card 3 represents the future.\nUser: ${selectedCards.join(', ')}`,
        max_tokens: 100
      };

      fetch('https://api.openai.com/v1/engines/text-davinci-003/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer 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'
        },
        body: JSON.stringify(requestBody)
      })
      .then(response => response.json())
      .then(data => {
        const message = data.choices[0].text.trim();
        document.getElementById('output').innerHTML = message;
      })
      .catch(error => {
        console.error('Error:', error);
      });
    }
  </script>

  <h1>Tarot</h1>
  <p>Select exactly 3 cards:</p>
  <label>
    <input type="checkbox" name="cards" value="The Fool"> The Fool
  </label>
  <label>
    <input type="checkbox" name="cards" value="The Wizard"> The Wizard
  </label>
  <label>
    <input type="checkbox" name="cards" value="The Empress"> The Empress
  </label>
  <label>
    <input type="checkbox" name="cards" value="The Chariot"> The Chariot
  </label>
  <label>
    <input type="checkbox" name="cards" value="The High Priestess"> The High Priestess
  </label>
  <label>
    <input type="checkbox" name="cards" value="The Magician"> The Magician
  </label>
  <label>
    <input type="checkbox" name="cards" value="The Star"> The Star
  </label>
  <label>
    <input type="checkbox" name="cards" value="The Tower"> The Tower
  </label>
  <label>
    <input type="checkbox" name="cards" value="The Lovers"> The Lovers
  </label>
  <button onclick="fetchAnimalInfo()">Submit</button>

  <br>
  <hr>
  <br>

  <div>
    <span id="output"></span>
  </div>
</body>
</html>